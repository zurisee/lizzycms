/***************************
Styles for macro nav()
****************************/


body {
  // generic:
  --lzy-nav-txt-color: inherit;
  --lzy-nav-bg-color: white;
  --lzy-nav-focus-color: inherit;
  --lzy-arrow-dim: 2em;
  --lzy-nav-line-height: 2em;
  --lzy-nav-arrow: "\25B8";   // ▸: "\25B8", ▷: "\25B7";

  // lzy-nav-top-horizontal:
  --lzy-nav-top-horizontal-col-gap: 10px;
  --lzy-nav-top-horizontal-padding: 1em;
  --lzy-nav-top-horizontal-height: var(--lzy-nav-line-height);
  --lzy-nav-top-horizontal-first-indent: 24px;
  --lzy-nav-top-horizontal-indent-step: 1.5em;
  --lzy-nav-top-horizontal-arrow-offset: -1.4em;

  // lzy-nav-accordion:
  --lzy-nav-accordion-first-indent: 24px;
  --lzy-nav-accordion-step: 30px;
  --lzy-nav-accordion-line-height: var(--lzy-nav-line-height);
  --lzy-nav-accordion-trans-speed: 0.2s;
  --lzy-nav-accordion-arrow-offset: -1.5em;

  // lzy-nav-indented-no-arrow:
  --lzy-nav-first-indent: 0em;
  --lzy-nav-indent-step: 1.2em;

}



// Module Encapsulation:
#lzy {
  .lzy-encapsulate {
    ul,
    ol,
    li,
    div,
    a,
    img,
    *::before
    {
      margin: 0;
      padding: 0;
      line-height: initial;
      border: none;
      background: initial;
      display: block;
      position: relative;
      overflow: initial;
      z-index: initial;
      width: initial;
      list-style: initial;
      box-sizing: border-box;
    }
    a {
      color: var(--lzy-nav-txt-color);
    }
    li {
      background: var(--lzy-nav-bg-color);
    }
    a:focus {
      box-shadow: inset 0 0 4px var(--lzy-nav-focus-color);
    }
  } // lzy-encapsulate
} // lzy

// General Settings:
#lzy .lzy-nav-wrapper {
  .lzy-nav-menu-button {
    display: none;
  }
}

$accordionX1:      var(--lzy-nav-accordion-first-indent);
$accordionX2: calc(var(--lzy-nav-accordion-first-indent) +   var(--lzy-nav-accordion-step));
$accordionX3: calc(var(--lzy-nav-accordion-first-indent) + 2*var(--lzy-nav-accordion-step));
$accordionX4: calc(var(--lzy-nav-accordion-first-indent) + 3*var(--lzy-nav-accordion-step));
$accordionX5: calc(var(--lzy-nav-accordion-first-indent) + 4*var(--lzy-nav-accordion-step));

$accordionX1Arrow: calc(var(--lzy-nav-accordion-first-indent) +                                   var(--lzy-nav-accordion-arrow-offset));
$accordionX2Arrow: calc(var(--lzy-nav-accordion-first-indent) +   var(--lzy-nav-accordion-step) + var(--lzy-nav-accordion-arrow-offset));
$accordionX3Arrow: calc(var(--lzy-nav-accordion-first-indent) + 2*var(--lzy-nav-accordion-step) + var(--lzy-nav-accordion-arrow-offset));
$accordionX4Arrow: calc(var(--lzy-nav-accordion-first-indent) + 3*var(--lzy-nav-accordion-step) + var(--lzy-nav-accordion-arrow-offset));
$accordionX5Arrow: calc(var(--lzy-nav-accordion-first-indent) + 4*var(--lzy-nav-accordion-step) + var(--lzy-nav-accordion-arrow-offset));

$slidedownX1:      var(--lzy-nav-top-horizontal-first-indent);
$slidedownX2:      var(--lzy-nav-top-horizontal-first-indent);
$slidedownX3: calc(var(--lzy-nav-top-horizontal-first-indent) + var(--lzy-nav-top-horizontal-indent-step));
$slidedownX4: calc(var(--lzy-nav-top-horizontal-first-indent) + 2*var(--lzy-nav-top-horizontal-indent-step));
$slidedownX5: calc(var(--lzy-nav-top-horizontal-first-indent) + 3*var(--lzy-nav-top-horizontal-indent-step));

$slidedownX1Arrow: calc(var(--lzy-nav-top-horizontal-first-indent) +                                               var(--lzy-nav-top-horizontal-arrow-offset));
$slidedownX2Arrow: calc(var(--lzy-nav-top-horizontal-first-indent) +                                               var(--lzy-nav-top-horizontal-arrow-offset));
$slidedownX3Arrow: calc(var(--lzy-nav-top-horizontal-first-indent) +   var(--lzy-nav-top-horizontal-indent-step) + var(--lzy-nav-top-horizontal-arrow-offset));
$slidedownX4Arrow: calc(var(--lzy-nav-top-horizontal-first-indent) + 2*var(--lzy-nav-top-horizontal-indent-step) + var(--lzy-nav-top-horizontal-arrow-offset));
$slidedownX5Arrow: calc(var(--lzy-nav-top-horizontal-first-indent) + 3*var(--lzy-nav-top-horizontal-indent-step) + var(--lzy-nav-top-horizontal-arrow-offset));




#lzy .lzy-nav.lzy-nav-top-horizontal {
  ol {
    padding: 0;
    margin: 0;
  }
}

// === Sitemap/Nav-Accordion =========
#lzy {
  // Note: .lzy-nav-opened and .lzy-nav-accordion-open-current is implemented via nav.js

  // side
  .lzy-nav.lzy-nav-accordion {
    // internal variables, normally no need to overrule them - top of this file

    ol, li, a {
      display: block;
      padding: 0;
      margin: 0;
    }
    li {
      position: relative;
    }

    a {
      line-height: var(--lzy-nav-line-height);
      padding-top: calc((var(--lzy-nav-accordion-line-height) - var(--lzy-nav-line-height)) / 2);
      padding-bottom:  calc((var(--lzy-nav-accordion-line-height) - var(--lzy-nav-line-height)) / 2);
      border-left: 3px solid transparent;
      margin-bottom: 2px;
      border-bottom: none;
    }

    li.has-children {
      cursor: s-resize;
      display: block;
      > div {
        display: block;
        overflow: hidden;
      }
      > div > ol {
        margin-top: -100rem; // will be overriden by explicit value at runtime
      }
      > div[aria-expanded="true"] > ol {
        margin-top: 0 !important;
      }
    }

    li::before {
      content: " ";
      position: absolute;
      height: var(--lzy-arrow-dim);
      width: var(--lzy-arrow-dim);
      line-height: var(--lzy-arrow-dim);
      top: calc((var(--lzy-nav-accordion-line-height) - var(--lzy-arrow-dim)) / 2);

      text-align: center;
      color: var(--lzy-nav-txt-color);
    }
    li.has-children::before {
      content: var(--lzy-nav-arrow);
      z-index: 2;
    }

    > ol  li::before {
      transform: rotate(0deg);
    }
    > ol li > a {
      padding-left: $accordionX1;
    }

    @extend %lzy-nav-arrow-90deg;

  } // lzy-nav-accordion


  // indented
  .lzy-nav-accordion.lzy-nav-indented {
    @extend %lzy-nav-accordion-indented;
    @extend %lzy-nav-accordion-indented-90deg;
  } // indented


  // animated
  .lzy-nav-animated {
    @extend %lzy-nav-animated;
  } // animated


  // colored
  .lzy-nav-accordion.lzy-nav-colored {
    @extend %lzy-nav-colored;
  }

} // #lzy accordion




// === Top Nav
body.large-screen {
  #lzy {
    .lzy-mobile-page-header {
      display: none;
    }

    // top-horizontal:
    nav.lzy-nav-top-horizontal {
      a {
        line-height: var(--lzy-nav-line-height);;
        padding-top: calc((var(--lzy-nav-top-horizontal-height) - var(--lzy-nav-line-height)) / 2);
        padding-bottom:  calc((var(--lzy-nav-top-horizontal-height) - var(--lzy-nav-line-height)) / 2);
        padding-right: var(--lzy-nav-top-horizontal-padding);
        border-left: 3px solid transparent;
        margin-bottom: 2px;
        border-bottom: none;
      }
      a:focus {
        box-shadow: inset 0 0 5px red;
      }
      ol li {
        vertical-align: top;
        position: relative;
        margin: 0;
      }
      > ol > li {
        display: inline-block;
        margin: 0;
        margin-right: var(--lzy-nav-top-horizontal-col-gap);
        > a {
          border-left: none;
        }
        div li a {
          display: block;
        }
      }
      ol {
        margin: 0;
        padding: 0;
      }
      > ol > li:last-child {
        margin-right: 0;
      }
      > ol > li.has-children > div {
        position: absolute;
        top: 100%;
        left: 0;
        width: 12em;
        z-index: 2;
        overflow: hidden;
        > ol {
          margin-top: -5000%;
          background-color: var(--lzy-nav-bg-color);
        }
      }
    } // lzy-nav-top-horizontal

    .lzy-nav-top-horizontal.lzy-nav-hover {
      li.has-children > div[aria-expanded=true] > ol,
      li.has-children:hover > div > ol {
        margin-top: 0!important;
      }
    }


    .lzy-nav-top-horizontal.lzy-nav-slidedown {
      ol li::before {
        top: 0;
        height: var(--lzy-arrow-dim);
        width: var(--lzy-arrow-dim);
        line-height: var(--lzy-arrow-dim);
        top: calc((var(--lzy-nav-top-horizontal-height) - var(--lzy-arrow-dim)) / 2);
        transform: rotate(0deg);
        transform-origin: 1em 1em;
        z-index: 2;
      }
      li.has-children {
        cursor: s-resize;
        > div {
          display: block;
          overflow: hidden;
        }
        > div > ol {
          margin-top: -100rem; // will be overriden by explicit value at runtime
        }
      }
      ol li li.has-children {
        display: block;
      }
      li.has-children > div[aria-expanded="true"] > ol {
        margin-top: 0 !important;
      }
      li::before {
        content: " ";
        position: absolute;
        text-align: center;
        color: var(--lzy-nav-txt-color);
      }
      li.has-children::before {
        content: var(--lzy-nav-arrow);
      }

      > ol li.has-children > a {
        padding-left: var(--lzy-nav-top-horizontal-first-indent);
      }

      @extend %lzy-nav-arrow-90deg;
    } // lzy-nav-top-horizontal.lzy-nav-slidedown




    // top-horizontal indented
    .lzy-nav-top-horizontal.lzy-nav-indented.lzy-nav-slidedown {
      // level 1:
      .lzy-lvl1 > a {
        padding-left: var(--lzy-nav-top-horizontal-padding);
      }
      .lzy-lvl1.has-children > a {
        padding-left: $slidedownX1;
      }
      li.lzy-lvl1:not(.has-children)::before {
        display: none;
      }
      li.lzy-lvl1.has-children::before {
        transform: translate( $slidedownX1Arrow ) rotate(0deg);
      }

      // level 2:
      .lzy-lvl2 > a {
        padding-left: $slidedownX2;
      }
      li.lzy-lvl2::before {
        transform: translate( $slidedownX2Arrow ) rotate(0deg);
      }

      // level 3:
      .lzy-lvl3 > a {
        padding-left: $slidedownX3;
      }
      li.lzy-lvl3::before {
        transform: translate( $slidedownX3Arrow ) rotate(0deg);
      }

      // level 4:
      .lzy-lvl4 > a {
        padding-left: $slidedownX4;
      }
      li.lzy-lvl4::before {
        transform: translate( $slidedownX4Arrow ) rotate(0deg);
      }

      // level 5:
      .lzy-lvl5 > a {
        padding-left: $slidedownX5;
      }
      li.lzy-lvl5::before {
        transform: translate( $slidedownX5Arrow ) rotate(0deg);
      }



      .lzy-lvl1.open::before {
        transform: translate($slidedownX1Arrow) rotate(90deg) !important;
      }

      .lzy-lvl2.open::before {
        transform: translate($slidedownX2Arrow) rotate(90deg) !important;
      }

      .lzy-lvl3.open::before {
        transform: translate($slidedownX3Arrow) rotate(90deg) !important;
      }

      .lzy-lvl4.open::before {
        transform: translate($slidedownX4Arrow) rotate(90deg) !important;
      }

      .lzy-lvl5.open::before {
        transform: translate($slidedownX5Arrow) rotate(90deg) !important;
      }

    } // top-horizontal indented


    // top-horizontal indented
    .lzy-nav-top-horizontal.lzy-nav-indented:not(.lzy-nav-slidedown) {
      @extend %lzy-nav-indented-no-arrow
    } // top-horizontal indented


    // animated
    .lzy-nav-animated {
      @extend %lzy-nav-animated;
    } // animated


  } // top-horizontal
} // body.large-screen




// for mobile screens:
body.small-screen {
  #lzy {
    .lzy-nav.lzy-nav-slidedown {
      ol, li, a {
        display: block;
        padding: 0;
        margin: 0;
      }
      li {
        position: relative;
      }

      a {
        line-height: var(--lzy-nav-line-height);
        padding-top: calc((var(--lzy-nav-accordion-line-height) - var(--lzy-nav-line-height)) / 2);
        padding-bottom:  calc((var(--lzy-nav-accordion-line-height) - var(--lzy-nav-line-height)) / 2);
        border-left: 3px solid transparent;
        margin-bottom: 2px;
        border-bottom: none;
      }

      li.has-children {
        cursor: s-resize;
        display: block;
        > div {
          display: block;
          overflow: hidden;
        }
        > div > ol {
          margin-top: -100rem; // will be overriden by explicit value at runtime
        }
        > div[aria-expanded="true"] > ol {
          margin-top: 0 !important;
        }
      }

      li::before {
        content: " ";
        position: absolute;
        height: var(--lzy-arrow-dim);
        width: var(--lzy-arrow-dim);
        line-height: var(--lzy-arrow-dim);
        top: calc((var(--lzy-nav-accordion-line-height) - var(--lzy-arrow-dim)) / 2);
        text-align: center;
        color: var(--lzy-nav-txt-color);
      }
      li.has-children::before {
        content: var(--lzy-nav-arrow);
        z-index: 2;
      }

      > ol  li::before {
        transform: rotate(0deg);
      }
      > ol li > a {
        padding-left: $accordionX1;
      }

      @extend %lzy-nav-arrow-90deg;

    }

    // indented
    .lzy-nav-slidedown.lzy-nav-indented {
      @extend %lzy-nav-accordion-indented;

      .lzy-lvl1.open::before {
        transform: translate($accordionX1Arrow) rotate(90deg) !important;
      }

      .lzy-lvl2.open::before {
        transform: translate($accordionX2Arrow) rotate(90deg) !important;
      }

      .lzy-lvl3.open::before {
        transform: translate($accordionX3Arrow) rotate(90deg) !important;
      }

      .lzy-lvl4.open::before {
        transform: translate($accordionX4Arrow) rotate(90deg) !important;
      }

      .lzy-lvl5.open::before {
        transform: translate($accordionX5Arrow) rotate(90deg) !important;
      }
    }

    // animated
    .lzy-nav-animated {
      @extend %lzy-nav-animated;
    }

    // colored
    .lzy-nav-slidedown.lzy-nav-colored {
      @extend %lzy-nav-colored;
    }
  } // #lzy
} // body.small-screen




%lzy-nav-accordion-indented {
  // level 1:
  .lzy-lvl1 > a {
    padding-left: $accordionX1;
  }
  li.lzy-lvl1::before {
    transform: translate( $accordionX1Arrow ) rotate(0deg);
  }

  // level 2:
  .lzy-lvl2 > a {
    padding-left: $accordionX2;
  }
  li.lzy-lvl2::before {
    transform: translate( $accordionX2Arrow ) rotate(0deg);
  }

  // level 3:
  .lzy-lvl3 > a {
    padding-left: $accordionX3;
  }
  li.lzy-lvl3::before {
    transform: translate( $accordionX3Arrow ) rotate(0deg);
  }

  // level 4:
  .lzy-lvl4 > a {
    padding-left: $accordionX4;
  }
  li.lzy-lvl4::before {
    transform: translate( $accordionX4Arrow ) rotate(0deg);
  }

  // level 5:
  .lzy-lvl5 > a {
    padding-left: $accordionX5;
  }
  li.lzy-lvl5::before {
    transform: translate( $accordionX5Arrow ) rotate(0deg);
  }

} // lzy-nav-slidenown-indented



%lzy-nav-arrow-90deg {
  .lzy-lvl1.open::before,
  .lzy-lvl2.open::before,
  .lzy-lvl3.open::before,
  .lzy-lvl4.open::before,
  .lzy-lvl5.open::before {
    transform: rotate(90deg);
  }
} // animated



%lzy-nav-accordion-indented-90deg {
  .lzy-lvl1.open::before {
    transform: translate($accordionX1Arrow) rotate(90deg);
  }

  .lzy-lvl2.open::before {
    transform: translate($accordionX2Arrow) rotate(90deg);
  }

  .lzy-lvl3.open::before {
    transform: translate($accordionX3Arrow) rotate(90deg);
  }

  .lzy-lvl4.open::before {
    transform: translate($accordionX4Arrow) rotate(90deg);
  }

  .lzy-lvl5.open::before {
    transform: translate($accordionX5Arrow) rotate(90deg);
  }
} // animated && indented



%lzy-nav-animated {
  li.has-children {
    > div > ol {
      transition: margin-top var(--lzy-nav-accordion-trans-speed);
    }
    > div[aria-expanded="true"] > ol {
      transition: margin-top var(--lzy-nav-accordion-trans-speed);
    }
  }
  li::before {
    transition: transform var(--lzy-nav-accordion-trans-speed);
  }
  li.open::before {
    transition: transform var(--lzy-nav-accordion-trans-speed);
  }
} // animated



%lzy-nav-colored {
  a {
    color: #333;
  }
  a:hover {
    border-left: 3px solid orange;
    background: #ffe;
  }
  a:focus {
    box-shadow: inset 0 0 5px red;
  }
  li {
    background: #ddd;
  }
  li.curr > a {
    border-left: 3px solid red;
  }
} // colored



%lzy-nav-indented-no-arrow {
  .lzy-lvl1 > a {
    padding-left: var(--lzy-nav-first-indent);
  }
  .lzy-lvl2 > a {
    padding-left: calc(var(--lzy-nav-first-indent) + var(--lzy-nav-indent-step));
  }
  .lzy-lvl3 > a {
    padding-left: calc(var(--lzy-nav-first-indent) + 2*var(--lzy-nav-indent-step));
  }
  .lzy-lvl4 > a {
    padding-left: calc(var(--lzy-nav-first-indent) + 3*var(--lzy-nav-indent-step));
  }
  .lzy-lvl5 > a {
    padding-left: calc(var(--lzy-nav-first-indent) + 4*var(--lzy-nav-indent-step));
  }

} // top-horizontal indented



//=== in-page nav:
.lzy-in-page-nav {
  --lzy-in-page-first-indent: 0em;
  --lzy-in-page-indent-step: 1em;

  ol {
    padding: 0;
  }
  li {
    list-style: none;
    display: block;
  }
  .H1 {
    margin-left: var(--lzy-in-page-first-indent);
  }
  .H2 {
    margin-left: calc(var(--lzy-in-page-first-indent) + var(--lzy-in-page-indent-step));
  }
  .H3 {
    margin-left: calc(var(--lzy-in-page-first-indent) + 2*var(--lzy-in-page-indent-step));
  }
  .H4 {
    margin-left: calc(var(--lzy-in-page-first-indent) + 3*var(--lzy-in-page-indent-step));
  }
  .H5 {
    margin-left: calc(var(--lzy-in-page-first-indent) + 4*var(--lzy-in-page-indent-step));
  }
  .H6 {
    margin-left: calc(var(--lzy-in-page-first-indent) + 5*var(--lzy-in-page-indent-step));
  }
} // lzy-in-page-nav



//=== breadcrumb:
.lzy-nav-breadcrumb {
  margin: 0;
  padding: 0;
  li {
    list-style: none;
    display: inline-block;
    margin: 0;
    padding: 0;
  }
  .lzy-nav-breadcrumb-separator {
    position: relative;
    display: inline-block;
    width: 1.6em;
    text-align: center;
    font-family: Impact, Charcoal, sans-serif;
    opacity: 0.6;
  }
} // lzy-nav-breadcrumb

